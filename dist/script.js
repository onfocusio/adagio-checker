/*! For license information please see script.js.LICENSE.txt */
(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{i:()=>It});var t,n=Object.freeze({logo:'<svg viewBox="0 0 101 92" style="height:1.5em;"><path d="M97 88.598H84.91l-33.473-72.96-.817-1.707-6.398 13.836 28.143 60.916h-12.2l-.106-.237-21.82-47.743-6.428 13.9 15.978 34.08H35.59l-9.802-21.056-9.698 20.97H4L43.109 4H57.89L97 88.598Z"></path></svg>',checker:'<svg viewBox="0 0 24 24" style="height:1.2em;"><path d="M19 15v4H5v-4h14m1-2H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zM7 18.5c-.82 0-1.5-.67-1.5-1.5s.68-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM19 5v4H5V5h14m1-2H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1zM7 8.5c-.82 0-1.5-.67-1.5-1.5S6.18 5.5 7 5.5s1.5.68 1.5 1.5S7.83 8.5 7 8.5z"></path></svg>',adunits:'<svg viewBox="0 0 24 24" style="height:1.2em;"><path d="M17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zM7 4V3h10v1H7zm0 14V6h10v12H7zm0 3v-1h10v1H7z"></path><path d="M16 7H8v2h8V7z"></path></svg>',prebid:'<svg viewBox="0 0 24 24" style="height:1.2em"><g><g><g><path d="M19.973 4.724H.746A.743.743 0 0 1 0 3.978c0-.414.331-.746.746-.746H19.89c.415 0 .746.332.746.746.083.414-.248.746-.663.746z"/></g><g><path d="M27.35 8.868H4.391a.743.743 0 0 1-.745-.746c0-.414.331-.746.745-.746H27.35c.415 0 .746.332.746.746a.743.743 0 0 1-.746.746z"/></g><g><path d="M25.029 21.3H2.072a.743.743 0 0 1-.746-.747c0-.414.332-.745.746-.745h22.957c.414 0 .746.331.746.745 0 .332-.332.746-.746.746z"/></g><g><path d="M17.238 13.012H2.984a.743.743 0 0 1-.746-.746c0-.415.331-.746.746-.746h14.254c.415 0 .746.331.746.746a.743.743 0 0 1-.746.746z"/></g><g><path d="M23.371 17.155H7.045a.743.743 0 0 1-.746-.745c0-.415.331-.746.746-.746H23.37c.415 0 .746.331.746.746 0 .331-.331.745-.746.745z"/></g></g></g></svg>',debbuging:'<svg viewBox="0 0 24 24" style="height:1.2em;"><path d="M4.6 15c-.9-2.6-.6-4.6-.5-5.4 2.4-1.5 5.3-2 8-1.3.7-.3 1.5-.5 2.3-.6-.1-.3-.2-.5-.3-.8h2l1.2-3.2-.9-.4-1 2.6h-1.8C13 4.8 12.1 4 11.1 3.4l2.1-2.1-.7-.7L10.1 3c-.7 0-1.5 0-2.3.1L5.4.7l-.7.7 2.1 2.1C5.7 4.1 4.9 4.9 4.3 6H2.5l-1-2.6-.9.4L1.8 7h2C3.3 8.3 3 9.6 3 11H1v1h2c0 1 .2 2 .5 3H1.8L.6 18.3l.9.3 1-2.7h1.4c.4.8 2.1 4.5 5.8 3.9-.3-.2-.5-.5-.7-.8-2.9 0-4.4-3.5-4.4-4zM9 3.9c2 0 3.7 1.6 4.4 3.8-2.9-1-6.2-.8-9 .6.7-2.6 2.5-4.4 4.6-4.4zm14.8 19.2l-4.3-4.3c2.1-2.5 1.8-6.3-.7-8.4s-6.3-1.8-8.4.7-1.8 6.3.7 8.4c2.2 1.9 5.4 1.9 7.7 0l4.3 4.3c.2.2.5.2.7 0 .2-.2.2-.5 0-.7zm-8.8-3c-2.8 0-5.1-2.3-5.1-5.1s2.3-5.1 5.1-5.1 5.1 2.3 5.1 5.1-2.3 5.1-5.1 5.1z"/><path fill="none" d="M0 0h24v24H0z"/></svg>',refresh:'<svg viewBox="0 0 24 24" style="height:1.2em;"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"></path></svg>'}),r=Object.freeze({checker:"Checker",adunits:"Adunits"}),o=Object.freeze({green_txt:"rgb(48 158 133)",green_bkg:"rgb(226 248 243)",red_txt:"rgb(179 49 90)",red_bkg:"rgb(253 226 235)",yellow_txt:"rgb(180 130 59)",yellow_bkg:"rgb(253 243 228)",blue_txt:"rgb(38, 130, 185)",blue_bkg:"rgb(222, 241, 248)",grey_txt:"rgb(120, 120, 120)",grey_bkg:"rgb(230, 230, 230)"}),i=Object.freeze({ok:'<kbd style="color:'.concat(o.green_txt,";background-color:").concat(o.green_bkg,';">OK</kbd>'),ko:'<kbd style="color:'.concat(o.red_txt,";background-color:").concat(o.red_bkg,';">KO</kbd>'),check:'<kbd style="color:'.concat(o.yellow_txt,";background-color:").concat(o.yellow_bkg,';">!?</kbd>'),update:'<kbd style="color:'.concat(o.yellow_txt,";background-color:").concat(o.yellow_bkg,';">Update</kbd>'),info:'<kbd style="color:'.concat(o.blue_txt,";background-color:").concat(o.blue_bkg,';">Info</kbd>'),na:'<kbd style="color:'.concat(o.grey_txt,";background-color:").concat(o.grey_bkg,';"> / </kbd>')}),s=Object.freeze({analytics:"Adagio analytics",userids:"User IDs (UIDs)",localstorage:"Local storage",deviceaccess:"Device access",adunits:"Adunits",duplicated:"Adcalls duplication",usersync:"User sync (iframe)",floors:"Floors price module",currency:"Currency module",dsa:"DSA Transparency"});function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(a(e)+" is not iterable")}function d(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof a?r:a,d=Object.create(c.prototype);return l(d,"_invoke",function(n,r,o){var i,a,c,d=0,l=o||[],u=!1,p={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return i=t,a=0,c=e,p.n=n,s}};function h(n,r){for(a=n,c=r,t=0;!u&&d&&!o&&t<l.length;t++){var o,i=l[t],h=p.p,f=i[2];n>3?(o=f===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=h&&((o=n<2&&h<i[1])?(a=0,p.v=r,p.n=i[1]):h<f&&(o=n<3||i[0]>r||r>f)&&(i[4]=n,i[5]=r,p.n=f,a=0))}if(o||n>1)return s;throw u=!0,r}return function(o,l,f){if(d>1)throw TypeError("Generator is already running");for(u&&1===l&&h(l,f),a=l,c=f;(t=a<2?e:c)||!u;){i||(a?a<3?(a>1&&(p.n=-1),h(a,c)):p.n=c:p.v=c);try{if(d=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(u=p.n<0)?c:n.call(r,p))!==s)break}catch(t){i=e,a=1,c=t}finally{d=1}}return{value:t,done:u}}}(n,o,i),!0),d}var s={};function a(){}function c(){}function u(){}t=Object.getPrototypeOf;var p=[][r]?t(t([][r]())):(l(t={},r,function(){return this}),t),h=u.prototype=a.prototype=Object.create(p);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,l(e,o,"GeneratorFunction")),e.prototype=Object.create(h),e}return c.prototype=u,l(h,"constructor",u),l(u,"constructor",c),c.displayName="GeneratorFunction",l(u,o,"GeneratorFunction"),l(h),l(h,o,"Generator"),l(h,r,function(){return this}),l(h,"toString",function(){return"[object Generator]"}),(d=function(){return{w:i,m:f}})()}function l(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}l=function(e,t,n,r){function i(t,n){l(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},l(e,t,n,r)}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function s(e){h(i,r,o,s,a,"next",e)}function a(e){h(i,r,o,s,a,"throw",e)}s(void 0)})}}function v(e){return m.apply(this,arguments)}function m(){return(m=f(d().m(function e(t){var n,r,o,i,s;return d().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=new Set,!t.length){e.n=7;break}r=u(t),e.p=1,i=d().m(function e(){var t,r,i,s,a,c,l,u,p,h;return d().w(function(e){for(;;)switch(e.n){case 0:return t=o.value,r=t.organizationId,i=t.site,s=window.location.hostname.replace(/^www\./i,""),a="filter=publisher_id||$eq||".concat(encodeURIComponent(r),"&search=").concat(encodeURIComponent(s)),c="https://api.adagio.io/api/v1/groups/1/websites?".concat(a),e.n=1,g(c);case 1:null!==(l=e.v)&&(u=l.records.filter(function(e){return s.includes(e.domain)})||null,p=l.records.filter(function(e){return i===e.name})||null,(h=u.filter(function(e){return p.filter(function(t){return e===t})})||[]).length&&h.forEach(function(e){return n.add(e)}));case 2:return e.a(2)}},e)}),r.s();case 2:if((o=r.n()).done){e.n=4;break}return e.d(c(i()),3);case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,s=e.v,r.e(s);case 6:return e.p=6,r.f(),e.f(6);case 7:return e.a(2,n)}},e,null,[[1,5,6,7]])}))).apply(this,arguments)}function g(e){return y.apply(this,arguments)}function y(){return(y=f(d().m(function e(t){var n,r;return d().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch(t,{method:"GET",headers:{Authorization:"Bearer ".concat(ADAGIO_KEY)}});case 1:if((n=e.v).ok){e.n=2;break}throw new Error(n.status);case 2:return e.n=3,n.json();case 3:return e.a(2,e.v);case 4:return e.p=4,r=e.v,console.error("Error fetching Adagio API:",r),e.a(2,null)}},e,null,[[0,4]])}))).apply(this,arguments)}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function E(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(b(e)+" is not iterable")}function C(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof a?r:a,d=Object.create(c.prototype);return S(d,"_invoke",function(n,r,o){var i,a,c,d=0,l=o||[],u=!1,p={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return i=t,a=0,c=e,p.n=n,s}};function h(n,r){for(a=n,c=r,t=0;!u&&d&&!o&&t<l.length;t++){var o,i=l[t],h=p.p,f=i[2];n>3?(o=f===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=h&&((o=n<2&&h<i[1])?(a=0,p.v=r,p.n=i[1]):h<f&&(o=n<3||i[0]>r||r>f)&&(i[4]=n,i[5]=r,p.n=f,a=0))}if(o||n>1)return s;throw u=!0,r}return function(o,l,f){if(d>1)throw TypeError("Generator is already running");for(u&&1===l&&h(l,f),a=l,c=f;(t=a<2?e:c)||!u;){i||(a?a<3?(a>1&&(p.n=-1),h(a,c)):p.n=c:p.v=c);try{if(d=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(u=p.n<0)?c:n.call(r,p))!==s)break}catch(t){i=e,a=1,c=t}finally{d=1}}return{value:t,done:u}}}(n,o,i),!0),d}var s={};function a(){}function c(){}function d(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(S(t={},r,function(){return this}),t),u=d.prototype=a.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,S(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return c.prototype=d,S(u,"constructor",d),S(d,"constructor",c),c.displayName="GeneratorFunction",S(d,o,"GeneratorFunction"),S(u),S(u,o,"Generator"),S(u,r,function(){return this}),S(u,"toString",function(){return"[object Generator]"}),(C=function(){return{w:i,m:p}})()}function S(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}S=function(e,t,n,r){function i(t,n){S(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},S(e,t,n,r)}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=A(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function A(e,t){if(e){if("string"==typeof e)return I(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function s(e){L(i,r,o,s,a,"next",e)}function a(e){L(i,r,o,s,a,"throw",e)}s(void 0)})}}function k(e){return T.apply(this,arguments)}function T(){return(T=O(C().m(function e(t){var n,r,o,i,s,a,c;return C().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=null,!t.length){e.n=12;break}return e.p=1,e.n=2,fetch("https://adagio.io/sellers.json");case 2:return r=e.v,e.n=3,r.json();case 3:n=e.v,o=[],i=w(t),e.p=4,a=C().m(function e(){var t,r,i,a;return C().w(function(e){for(;;)switch(e.n){case 0:r=s.value,i=null===(t=n)||void 0===t?void 0:t.sellers.filter(function(e){return e.seller_id===r}),a=i&&i[0]?i[0]:{name:r,seller_id:r,seller_type:"unknown"},o.push("<code>".concat(a.name," (").concat(a.seller_id,") - ").concat(a.seller_type,"</code>"));case 1:return e.a(2)}},e)}),i.s();case 5:if((s=i.n()).done){e.n=7;break}return e.d(E(a()),6);case 6:e.n=5;break;case 7:e.n=9;break;case 8:e.p=8,c=e.v,i.e(c);case 9:return e.p=9,i.f(),e.f(9);case 10:mt("".concat(o.length>1?"Organizations":"Organization",": ").concat(o.join(", "))),e.n=12;break;case 11:e.p=11,e.v,n=null;case 12:return e.a(2)}},e,null,[[4,8,9,10],[1,11]])}))).apply(this,arguments)}function _(){return N.apply(this,arguments)}function N(){return(N=O(C().m(function e(){var n;return C().w(function(e){for(;;)switch(e.n){case 0:return n=function(e){var t,n=e.toUpperCase().split("").map(function(e){return 127397+e.charCodeAt()});return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e))return I(e)}(t=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||A(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},t=null,e.n=1,fetch("https://ipapi.co/json/").then(function(e){return e.json()}).then(function(e){var r=e.country_code,o=e.country_name;t=e.country_code_iso3;var i=n(r);"France"!==o&&mt("Current location detected: <code>".concat(o,"</code> (").concat(i,")"))}).catch(function(e){return console.error("Error fetching country data:",e)});case 1:return e.a(2)}},e)}))).apply(this,arguments)}function x(e){return e.includes(i.ko)?i.ko:e.includes(i.check)?i.check:e.includes(i.update)?i.update:i.ok}function P(e){return e.version.replace("v","").split("-")[0].split(".").slice(0,2).join(".")}function V(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof a?r:a,d=Object.create(c.prototype);return R(d,"_invoke",function(n,r,o){var i,a,c,d=0,l=o||[],u=!1,p={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return i=t,a=0,c=e,p.n=n,s}};function h(n,r){for(a=n,c=r,t=0;!u&&d&&!o&&t<l.length;t++){var o,i=l[t],h=p.p,f=i[2];n>3?(o=f===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=h&&((o=n<2&&h<i[1])?(a=0,p.v=r,p.n=i[1]):h<f&&(o=n<3||i[0]>r||r>f)&&(i[4]=n,i[5]=r,p.n=f,a=0))}if(o||n>1)return s;throw u=!0,r}return function(o,l,f){if(d>1)throw TypeError("Generator is already running");for(u&&1===l&&h(l,f),a=l,c=f;(t=a<2?e:c)||!u;){i||(a?a<3?(a>1&&(p.n=-1),h(a,c)):p.n=c:p.v=c);try{if(d=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(u=p.n<0)?c:n.call(r,p))!==s)break}catch(t){i=e,a=1,c=t}finally{d=1}}return{value:t,done:u}}}(n,o,i),!0),d}var s={};function a(){}function c(){}function d(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(R(t={},r,function(){return this}),t),u=d.prototype=a.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,R(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return c.prototype=d,R(u,"constructor",d),R(d,"constructor",c),c.displayName="GeneratorFunction",R(d,o,"GeneratorFunction"),R(u),R(u,o,"Generator"),R(u,r,function(){return this}),R(u,"toString",function(){return"[object Generator]"}),(V=function(){return{w:i,m:p}})()}function R(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}R=function(e,t,n,r){function i(t,n){R(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},R(e,t,n,r)}function j(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,s,a=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){d=!0,o=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw o}}return a}}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return M(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function H(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function s(e){G(i,r,o,s,a,"next",e)}function a(e){G(i,r,o,s,a,"throw",e)}s(void 0)})}}var F,B,z,J,$=[],W=void 0,Y=void 0,q=void 0;function K(){return Q.apply(this,arguments)}function Q(){return(Q=H(V().m(function e(){var t,n,r,o,i,s,a;return V().w(function(e){for(;;)switch(e.n){case 0:return t=ge(Y),n=ye(t),r=be(n),o=ee(r),i=o.orgSitePairs,s=o.uniqueOrgIds,o.uniqueSiteNames,e.n=1,v(i);case 1:return a=e.v,te(),oe(),e.n=2,k(s);case 2:return Z(),re(),e.n=3,_();case 3:if(ne(),ie(n,r,a),!(q>=9)){e.n=5;break}return se(),ae(),e.n=4,ce(i);case 4:e.n=6;break;case 5:pe();case 6:le(),ue(),fe(t),he(),ve(),me();case 7:return e.a(2)}},e)}))).apply(this,arguments)}function X(){var e,t=function(e,t){t.forEach(function(t){var n=e[t];null!=n&&n.version&&"function"==typeof n.getEvents&&!$.some(function(n){var r=U(n,2),o=r[0],i=r[1];return o===t&&i===e})&&$.push([t,e])})};if(window._pbjsGlobals&&t(window,window._pbjsGlobals),Array.from(window.document.getElementsByTagName("iframe")).forEach(function(e){try{var n=e.contentWindow;n._pbjsGlobals&&t(n,n._pbjsGlobals)}catch(e){}}),"undefined"!=typeof ADAGIO&&void 0!==(null===(e=ADAGIO)||void 0===e?void 0:e.versions)&&t(window,Object.keys(ADAGIO.versions).filter(function(e){return"adagiojs"!==e})),0!==$.length){var n,r,o=0,i=null;$.forEach(function(e){var t=U(e,2),s=t[0],a=t[1],c=a[s];if(null!=c&&c.getEvents){var d,l=(null===(d=c.getEvents())||void 0===d?void 0:d.filter(function(e){return"bidRequested"===e.eventType}))||[],u=l.length,p=l.filter(function(e){var t;return null===(t=e.bidder)||void 0===t?void 0:t.toLowerCase().includes("adagio")}).length;u>=o&&(o=u,i=[s,a]),p>=n&&(n=p,r=[s,a])}}),void 0===W&&void 0===Y&&(W=n>0?r:o>0?i:$[0],Y=W[1][W[0]],q=P(Y))}}function Z(){if("undefined"!=typeof ADAGIO){var e=ADAGIO.windows;if(e){var t=Array.isArray(e)?e:Object.values(e),n=new Set;if(t.forEach(function(e){var t=null==e?void 0:e.adserver;t&&n.add(String(t).toLowerCase())}),n.size){var r=Array.from(n).map(function(e){return"<code>".concat(e,"</code>")}).join(", ");mt("Adserver: ".concat(r))}}}}function ee(e){var t,n=new Map,r=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=D(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(s)throw o}}}}(e);try{for(r.s();!(t=r.n()).done;){var o=t.value.params||{},i=null!=o.organizationId?String(o.organizationId):null,s=null!=o.site?String(o.site):null;if(i&&s){var a="".concat(i,"::").concat(s);n.has(a)||n.set(a,{organizationId:i,site:s})}}}catch(e){r.e(e)}finally{r.f()}var c=Array.from(n.values()),d=j(new Set(c.map(function(e){return e.organizationId}))),l=j(new Set(c.map(function(e){return e.site})));return{orgSitePairs:c,uniqueOrgIds:d,uniqueSiteNames:l}}function te(){mt("Prebid.js wrapper: <code>".concat(W[0]," (").concat(Y.version,")</code>"))}function ne(){var e=i.ko,t="Adagio bidder adapter module is not installed.";"undefined"!=typeof ADAGIO&&(e=i.ok,t="Adagio bidder adapter detected."),vt(e,"Adagio adapter",t)}function re(){mt("undefined"!=typeof ADAGIO&&ADAGIO.versions&&ADAGIO.versions.adagiojs?"Adagio.js: üü¢ <code>v".concat(ADAGIO.versions.adagiojs,"</code>"):q>=9?"Adagio.js: üî¥ <code>Not loaded - Ensure RTD is setup.</code>":"Adagio.js: üî¥ <code>Not loaded - Ensure localstorage is enabled.</code>")}function oe(){if("undefined"!=typeof ADAGIO&&ADAGIO.pbjsAdUnits){var e=ADAGIO.pbjsAdUnits,t="".concat(W[0],"AdUnits");void 0===e||!Array.isArray(e)||0===e.length&&void 0!==ADAGIO[t]&&"pbjs"!==W[0]?mt("Wrapper integrity: üî¥ Adagio won't work as expected - Contact SE for more info."):void 0!==ADAGIO[t]&&"pbjs"!==W[0]&&mt("Wrapper integrity: üü† Repaired - Contact SE for more info.")}}function ie(e,n,a){var c=j(new Set(e.map(function(e){return e.bidder}))).sort(),d=j(new Set(e.map(function(e){return e.adUnitCode}))),l=j(new Set(n.map(function(e){return e.adUnitCode}))),u=d.length,p=l.length,h=function(e,n,s,a){var c="";s.length&&(c=s[0].bidder);var d=r.adunits.toLowerCase().replace(" ","-"),l=it.getElementById("".concat(d,"-tbody")),u=it.getElementById("".concat(d,"-alert")),p=(Array.isArray(n)?Ze(new Set(n.map(function(e){return null==e?void 0:e.adUnitCode}).filter(Boolean))):[]).map(function(e){return"<small> <code>".concat(e,"</code>;</small>")}).join(" ");u.innerHTML+="<small>Adunit(s):</small> ".concat(p?" "+p:"<small><code>0</code></small>","<br>");var h=[],f=[];n.forEach(function(e){var n=e.adUnitCode,r=e.mediaTypes,s=e.bidder,d=s.toLowerCase().includes("adagio"),u=[];d&&function(e,n,r){var o,s,a,c,d,l,u,p,h,f,v,m,g,y=null==e||null===(o=e.params)||void 0===o?void 0:o.organizationId;void 0!==y&&(y=y.toString());var b=null==e||null===(s=e.params)||void 0===s?void 0:s.site,E=null==e||null===(a=e.params)||void 0===a?void 0:a.placement,C=null==e||null===(c=e.params)||void 0===c?void 0:c.adUnitElementId,S=null==e||null===(d=e.ortb2Imp)||void 0===d||null===(d=d.ext)||void 0===d||null===(d=d.data)||void 0===d?void 0:d.placement,w=null==e||null===(l=e.ortb2Imp)||void 0===l||null===(l=l.ext)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.divId,A=null==e||null===(u=e.ortb2)||void 0===u||null===(u=u.regs)||void 0===u||null===(u=u.ext)||void 0===u?void 0:u.gdpr,I=null==e||null===(p=e.ortb2)||void 0===p||null===(p=p.user)||void 0===p||null===(p=p.ext)||void 0===p?void 0:p.consent,L=null==e||null===(h=e.ortb2Imp)||void 0===h?void 0:h.instl,O=null==e||null===(f=e.ortb2Imp)||void 0===f?void 0:f.rwdd,k=yt(e,"instl")||null,T=yt(e,"rwdd")||null;void 0===y?n.push([i.ko,"<code>params.organizationId</code>: <code>".concat(y,"</code>"),"Parameter not detected."]):"string"!=typeof y||/^\d{4}$/.test(y)?n.push([i.ok,"<code>params.organizationId</code>: <code>".concat(y,"</code>"),""]):n.push([i.check,"<code>params.organizationId</code>: <code>".concat(y,"</code>"),"Should be a 4-digit integer or string (e.g., 1000 or '1000')."]),void 0===b?n.push([i.ko,"<code>params.site</code>: <code>".concat(b,"</code>"),"Parameter not detected."]):b.trim()!==b?n.push([i.ko,"<code>params.site</code>: <code>".concat(b,"</code>"),"Space character detected."]):r.size?n.push([i.ok,"<code>params.site</code>: <code>".concat(b,"</code>"),""]):n.push([i.ko,"<code>params.site</code>: <code>".concat(b,"</code>"),"No manager inventory matched."]);var _="",N="",x="",P="";if(q>=9?void 0!==w?(_=i.ok,N="ortb2Imp.ext.data.divId",x=w,P=""):void 0!==C?(_=i.info,N="params.adUnitElementId",x=C,P="Recommendation: Setup the new divId param in ortb2Imp."):(_=i.check,N="ortb2Imp.ext.data.divId",x=void 0,P=""):void 0!==C?(_=i.ok,N="params.adUnitElementId",x=C,P=""):(_=i.check,N="params.adUnitElementId",x=void 0,P=""),void 0===x)n.push([_,"<code>".concat(N,"</code>: <code>").concat(x,"</code>"),"Not defined in the adUnit configuration."]);else{var V=document.getElementById(x);x.trim()!==x?n.push([i.check,"<code>".concat(N,"</code>: <code>").concat(x,"</code>"),"Space character detected."]):null===V?n.push([i.check,"<code>".concat(N,"</code>: <code>").concat(x,"</code>"),"Div id not detected in the page."]):n.push([_,"<code>".concat(N,"</code>: <code>").concat(x,"</code>"),P])}var R="",j="",U="",D="";q>=10?void 0!==E?(R=i.ok,j="params.placement",U=E,D=""):void 0!==S?(R=i.info,j="ortb2Imp.ext.data.placement",U=S,D="Fallback: placement detected in ortb2Imp, but should be in params.placement for Prebid 10+."):(R=i.ko,j="params.placement",U=void 0,D=""):q>=9?void 0!==S?(R=i.ok,j="ortb2Imp.ext.data.placement",U=S,D=""):void 0!==E?(R=i.info,j="params.placement",U=E,D="Fallback: placement detected in params, but should be in ortb2Imp.ext.data.placement for Prebid 9.x."):(R=i.ko,j="ortb2Imp.ext.data.placement",U=void 0,D=""):void 0!==E?(R=i.ok,j="params.placement",U=E,D=""):(R=i.ko,j="params.placement",U=void 0,D=""),void 0===U?n.push([R,"<code>".concat(j,"</code>: <code>").concat(U,"</code>"),"Not defined in the adUnit configuration."]):U.trim()!==U?n.push([i.check,"<code>".concat(j,"</code>: <code>").concat(U,"</code>"),"Space character detected."]):/mobile/i.test(U)||/desktop/i.test(U)||/tablet/i.test(U)?n.push([i.check,"<code>".concat(j,"</code>: <code>").concat(U,"</code>"),"Should not include reference to an environment"]):n.push([R,"<code>".concat(j,"</code>: <code>").concat(U,"</code>"),D]);var M=null===(v=e.mediaTypes)||void 0===v?void 0:v.banner,G=null===(m=e.mediaTypes)||void 0===m?void 0:m.video,H=null===(g=e.mediaTypes)||void 0===g?void 0:g.native;if(void 0===M&&void 0===G&&void 0===H)n.push([i.ko,"<code>mediaTypes</code>: <code>".concat(JSON.stringify(e.mediaTypes),"</code>"),"No mediatype detected."]);else{if(void 0!==M){var F=null==M?void 0:M.sizes;if(void 0!==F){var B=[];[[120,600],[160,600],[250,250],[300,50],[300,100],[300,250],[300,300],[300,600],[320,50],[320,100],[320,160],[320,320],[320,480],[336,280],[728,90],[800,250],[930,180],[970,90],[970,250],[1800,1e3]].forEach(function(e){F.forEach(function(t){JSON.stringify(e)===JSON.stringify(t)&&B.push(e)})}),B.length?n.push([i.ok,"<code>mediaTypes.banner.sizes</code>: <code>".concat(JSON.stringify(B),"</code>"),""]):n.push([i.ko,"<code>mediaTypes.banner.sizes</code>: <code>".concat(JSON.stringify(F),"</code>"),"No supported size detected."])}else n.push([i.ko,"<code>mediaTypes.banner.sizes</code>: <code>".concat(JSON.stringify(F),"</code>"),"No parameter detected."])}if(void 0!==G){var z=null==G?void 0:G.context,J=null==G?void 0:G.api,$=null==G?void 0:G.playerSize,W=null==G?void 0:G.mimes,Y=(null==G?void 0:G.plcmt)||(null==G?void 0:G.placement),K=null==G?void 0:G.playbackmethod,Q=null==G?void 0:G.startdelay,X=null==G?void 0:G.protocols,Z="outstream"===z,ee="instream"===z,te=[1,2,3,4,5],ne=["video/mp4","video/ogg","video/webm","application/javascript"],re=[3,6,7,8];if(!Z&&!ee)return void n.push([i.ko,"<code>mediaTypes.video.context</code>: <code>".concat(z,"</code>"),"No supported context detected."]);if(n.push([i.ok,"<code>mediaTypes.video.context</code>: <code>".concat(z,"</code>"),""]),void 0!==J?Z&&!J.includes(2)?n.push([i.ko,"<code>mediaTypes.video.api</code>: <code>".concat(JSON.stringify(J),"</code>"),"Must support api <code>2</code>'"]):!te.some(function(e){return J.includes(e)})&&ee?n.push([i.ko,"<code>mediaTypes.video.api</code>: <code>".concat(JSON.stringify(J),"</code>"),"Must support at least one of <code>".concat(JSON.stringify(te),"</code>")]):n.push([i.ok,"<code>mediaTypes.video.api</code>: <code>".concat(JSON.stringify(J),"</code>"),""]):n.push([i.ko,"<code>mediaTypes.video.api</code>: <code>".concat(J,"</code>"),"No video api detected."]),$&&Array.isArray($)&&$.every(function(e){return Array.isArray(e)&&2===e.length&&e.every(Number.isInteger)})?n.push([i.ok,"<code>mediaTypes.video.playerSize</code>: <code>".concat(JSON.stringify($),"</code>"),""]):n.push([i.ko,"<code>mediaTypes.video.playerSize</code>: <code>".concat(JSON.stringify($),"</code>"),"Wrong format or not size detected."]),ee&&(void 0===W?n.push([i.ko,"<code>mediaTypes.video.mimes</code>: <code>".concat(JSON.stringify(W),"</code>"),"No mimes detected."]):ne.every(function(e){return W.includes(e)})?n.push([i.ok,"<code>mediaTypes.video.mimes</code>: <code>".concat(JSON.stringify(W),"</code>"),""]):n.push([i.check,"<code>mediaTypes.video.mimes</code>: <code>".concat(JSON.stringify(W),"</code>"),"Missing mimes: <code>".concat(JSON.stringify(ne.filter(function(e){return!W.includes(e)})),"</code>")])),ee?void 0===Y||1!==Y?n.push([i.ko,"<code>mediaTypes.video.plcmt</code>: <code>".concat(Y,"</code>"),"Must be <code>".concat(JSON.stringify(1),'</code> for instream context (<a href="https://github.com/InteractiveAdvertisingBureau/AdCOM/blob/main/AdCOM%20v1.0%20FINAL.md#list--plcmt-subtypes---video-" target="_blank">iab</a>).')]):n.push([i.ok,"<code>mediaTypes.video.plcmt</code>: <code>".concat(Y,"</code>"),""]):Z&&(void 0===Y||1===Y?n.push([i.ko,"<code>mediaTypes.video.plcmt</code>: <code>".concat(Y,"</code>"),'Must be set for outstream context (<a href="https://github.com/InteractiveAdvertisingBureau/AdCOM/blob/main/AdCOM%20v1.0%20FINAL.md#list--plcmt-subtypes---video-" target="_blank">iab</a>).']):n.push([i.ok,"<code>mediaTypes.video.plcmt</code>: <code>".concat(Y,"</code>"),""])),void 0!==K){var oe=ee?2:Z?6:null;oe&&!K.includes(oe)?n.push([i.check,"<code>mediaTypes.video.playbackmethod</code>: <code>".concat(JSON.stringify(K),"</code>"),"Recommended playback method is: [".concat(oe,"].")]):oe?n.push([i.ok,"<code>mediaTypes.video.playbackmethod</code>: <code>".concat(JSON.stringify(K),"</code>"),""]):n.push([i.check,"<code>mediaTypes.video.playbackmethod</code>: <code>".concat(JSON.stringify(K),"</code>"),"No playback method detected or context not available."])}else n.push([i.check,"<code>mediaTypes.video.playbackmethod</code>: <code>".concat(JSON.stringify(K),"</code>"),"No playback method detected."]);ee&&(void 0!==Q?n.push([i.ok,"<code>mediaTypes.video.startdelay</code>: <code>".concat(Q,"</code>"),""]):n.push([i.check,"<code>mediaTypes.video.startdelay</code>: <code>".concat(Q,"</code>"),"No start delay detected."])),ee&&(void 0!==X?re.every(function(e){return X.includes(e)})?n.push([i.ok,"<code>mediaTypes.video.protocols</code>: <code>".concat(X,"</code>"),""]):n.push([i.check,"<code>mediaTypes.video.protocols</code>: <code>".concat(X,"</code>"),"Missing protocols: <code>".concat(JSON.stringify(re.filter(function(e){return!X.includes(e)})),"</code>")]):n.push([i.check,"<code>mediaTypes.video.protocols</code>: <code>".concat(X,"</code>"),"No protocol detected."]))}if(null===t)console.error("No country code detected, cannot check GDPR params.");else if(["ALA","AUT","BEL","BGR","HRV","CYP","CZE","DNK","EST","FIN","FRA","GUF","DEU","GIB","GRC","GLP","GGY","HUN","ISL","IRL","IMN","ITA","JEY","LVA","LIE","LTU","LUX","MLT","MTQ","MYT","NLD","NOR","POL","PRT","REU","ROU","BLM","MAF","SPM","SVK","SVN","ESP","SWE","GBR"].includes(t)){1!==A?n.push([i.ko,"<code>ortb2.regs.ext.gdpr</code>: <code>".concat(A,"</code>"),"Should be set to <code>1</code> for users in the EEA."]):n.push([i.ok,"<code>ortb2.regs.ext.gdpr</code>: <code>".concat(A,"</code>"),""]);var ie=void 0!==I?qe.decode(I):null;if(null===ie)n.push([i.ko,"<code>ortb2.user.ext.consent</code>: <code>".concat(I,"</code>"),"No consent string detected, should be a valid TCFv2 string for users in the EEA."]);else{var se={58:"33Across",779:"Adtarget Teknoloji A.S.",138:"ConnectAd Demand GmbH",90:"E-Planning (Teroa)",285:"Freewheel (Comcast)",149:"Illumin / ADman Interactive SLU",253:"Improve Digital",36:"Nexxen (Unruly)",617:"Onfocus (Adagio)",241:"OneTag",69:"OpenX",76:"Pubmatic",16:"RTB House",52:"Rubicon",45:"Smart Adserver (Equativ)",13:"Sovrn",28:"TripleLift"},ae=[],ce=!1;for(var de in se)ie.vendorConsents.has(Number(de))||(ae.push("".concat(se[de]," (").concat(de,")")),617===Number(de)&&(ce=!0));ce?n.push([i.ko,"<code>ortb2.user.ext.consent</code>","Missing consent for: ".concat(ae.join(", "))]):ae.length?n.push([i.check,"<code>ortb2.user.ext.consent</code>","Missing consent for: ".concat(ae.join(", "))]):n.push([i.ok,"<code>ortb2.user.ext.consent</code>: <code>".concat(I.substring(0,20),"...</code>"),"All Adagio partners present"])}}void 0!==L?q<9.39?n.push([i.info,"<code>ortb2Imp.instl</code>: <code>".concat(L,"</code>"),"Not supported before Prebid 9.39."]):n.push([i.ok,"<code>ortb2Imp.instl</code>: <code>".concat(L,"</code>"),""]):null!==k?n.push([i.info,"<code>".concat(k.path,"</code>: <code>").concat(k.value,"</code>"),"Misplaced, should be in <code>ortb2Imp.instl"]):n.push([i.info,"<code>ortb2Imp.instl</code>: <code>undefined</code>","No interstitial parameter detected."]),void 0!==O?q<9.39?n.push([i.info,"<code>ortb2Imp.rwdd</code>: <code>".concat(O,"</code>"),"Not supported before Prebid 9.39."]):n.push([i.ok,"<code>ortb2Imp.rwdd</code>: <code>".concat(O,"</code>"),""]):null!==T?n.push([q<9.39?i.info:i.check,"<code>".concat(T.path,"</code>: <code>").concat(T.value,"</code>"),"Misplaced, should be in <code>ortb2Imp.rwdd</code>"]):n.push([q<9.39?i.info:i.check,"<code>ortb2Imp.rwdd</code>: <code>undefined</code>","No rewarded parameter detected."])}}(e,u,a);var p=u.map(function(e){return e[0]}),v=d?x(p):i.na;d&&(f.includes(n)||(h.push(v),f.push(n)));var m=it.createElement("tr");m.classList.add("".concat(s.replace(" ","-"),"-bid")),""!==c&&c!==s&&(m.style.display="none");var g=it.createElement("td"),y=it.createElement("td"),b=it.createElement("td"),E=it.createElement("td"),C=it.createElement("kbd");for(var S in C.addEventListener("click",function(){return function(e,t,n){var r=it.createElement("dialog");r.setAttribute("open",!0);var i=it.createElement("article");i.style.maxWidth="100%";var s=it.createElement("header");s.innerHTML="<code>".concat(e.bidder,"</code>: <code>").concat(e.adUnitCode," (").concat(Object.keys(e.mediaTypes),")</code>"),s.style.marginBottom="0px";var a=it.createElement("a");if(a.setAttribute("aria-label","Close"),a.classList.add("close"),a.addEventListener("click",function(){r.remove()}),i.appendChild(s),s.appendChild(a),n){var c=it.createElement("p");!function(e,t){var n=it.createElement("article");n.style.padding="1em",n.style.marginLeft="",n.style.marginRight="",n.style.marginTop="1em",n.style.marginBottom="1em",n.style.color=o.yellow_txt,n.style.backgroundColor=o.yellow_bkg;var r=it.createElement("table"),i=it.createElement("thead"),s=it.createElement("tr"),a=it.createElement("th");a.setAttribute("scope","col"),a.textContent="Status";var c=it.createElement("th");c.setAttribute("scope","col"),c.textContent="Parameter";var d=it.createElement("th");d.setAttribute("scope","col"),d.textContent="Details",s.appendChild(a),s.appendChild(c),s.appendChild(d),i.appendChild(s);var l=it.createElement("tbody");r.appendChild(i),r.appendChild(l);var u,p=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=et(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(s)throw o}}}}(t);try{for(p.s();!(u=p.n()).done;){var h=u.value;bt(l,h[0],h[1],h[2])}}catch(e){p.e(e)}finally{p.f()}e.appendChild(r)}(c,t),i.appendChild(c)}var d=it.createElement("p");d.innerHTML='<pre><code class="language-json">'.concat(JSON.stringify(e,null,2),"</code></pre>"),i.appendChild(d),r.appendChild(i),it.body.appendChild(r)}(e,u,d)}),C.style.cursor="pointer",g.innerHTML=v,y.innerHTML="<code>".concat(n,"</code>"),r){var w;null!==(w=r[S])&&void 0!==w&&w.context?b.innerHTML+="<code>".concat(r[S].context,"</code> "):b.innerHTML+="<code>".concat(S,"</code> ")}C.innerHTML="üîé ".concat(s),m.appendChild(g),m.appendChild(y),m.appendChild(b),m.appendChild(E),E.appendChild(C),l.appendChild(m)});var v=it.getElementById("bidderFilter");return e.forEach(function(e){var t=it.createElement("li"),n=it.createElement("label"),r=it.createElement("input");r.setAttribute("type","checkbox"),r.setAttribute("id","".concat(e.replace(" ","-"),"-bidder")),v.appendChild(t),t.appendChild(n),n.appendChild(r),n.innerHTML+="<code>".concat(e,"</code>");var o=it.getElementById("".concat(e.replace(" ","-"),"-bidder"));o.checked=""===c||c===e,o.addEventListener("click",function(){toggleBidRow(o,e)})}),h}(c,e,n,a),f=x(h),v=i.ok;0===u||0===p?v=i.ko:u>p&&(v=i.check);var m=h.reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{}),g=Object.entries(m).map(function(e){var t=U(e,2),n=t[0],r=t[1];return"".concat(n," (").concat(r,")")}).join(", "),y=x([f,v]);if(0===u)vt(i.ko,s.adunits,"<code>".concat(u,"</code> adUnits(s) detected."));else{var b="\n                ‚Ä¢ Adagio called for <code>".concat(p,"</code> adUnit(s) out of <code>").concat(u,"</code> adUnits(s) detected.<br>\n            ");p>0&&(b+="‚Ä¢ Params status: ".concat(g,"<br>")),vt(y,s.adunits,b)}}function se(){var e="9Ô∏è‚É£ RTD module",t=Y.installedModules.includes("rtdModule")||!1,n="undefined"!=typeof ADAGIO&&ADAGIO.hasRtd;t||n?vt(i.ok,e,"RTD module is installed."):vt(i.ko,e,"RTD module is not installed.")}function ae(){var e="9Ô∏è‚É£ Adagio RTD provider",t=Y.installedModules.includes("adagioRtdProvider")||!1,n="undefined"!=typeof ADAGIO&&ADAGIO.hasRtd;t||n?vt(i.ok,e,"Adagio RTD provider module is installed."):vt(i.ko,e,"Adagio RTD provider is not installed.")}function ce(e){return de.apply(this,arguments)}function de(){return(de=H(V().m(function e(t){var n,r,o,s,a,c,d;return V().w(function(e){for(;;)switch(e.n){case 0:if(s="9Ô∏è‚É£ RTD parameters",a=(null===(n=Y.getConfig("realTimeData"))||void 0===n?void 0:n.dataProviders.find(function(e){return"adagio"===e.name}))||null){e.n=1;break}return vt(i.ko,s,"Adagio is not configured in <code>".concat(W[0],".getConfig('realTimeData')</code>")),e.a(2);case 1:if(c=null==a||null===(r=a.params)||void 0===r||null===(r=r.organizationId)||void 0===r?void 0:r.toString(),d=null==a||null===(o=a.params)||void 0===o||null===(o=o.site)||void 0===o?void 0:o.toString(),c&&d){e.n=2;break}return vt(i.ko,s,"Missing parameter(s) in RTD config: <code>".concat(JSON.stringify(a),"</code>")),e.a(2);case 2:return e.n=3,v([{organizationId:c,site:d}]);case 3:if(e.v.size){e.n=4;break}return vt(i.ok,s,"RTD params doesn't match with manager inventory: <code>".concat(JSON.stringify(a),"</code>")),e.a(2);case 4:if(!t.length||t.some(function(e){return e.organizationId===c&&e.site===d})){e.n=5;break}return vt(i.check,s,"RTD params are not matching with bids params: <code>".concat(JSON.stringify(a),"</code>")),e.a(2);case 5:vt(i.ok,s,"RTD config is valid: <code>".concat(JSON.stringify(a),"</code>"));case 6:return e.a(2)}},e)}))).apply(this,arguments)}function le(){var e=Y.getConfig("deviceAccess"),t=!0===e||!1!==e&&void 0;!0===t?vt(i.ok,s.deviceaccess,"<code>".concat(W[0],".getConfig('deviceAccess')</code>: <code>").concat(t,"</code>")):vt(i.ko,s.deviceaccess,!1===t||void 0===t?"<code>".concat(W[0],".getConfig('deviceAccess')</code>: <code>").concat(t,"</code>"):"Contact SE - <code>".concat(W[0],".getConfig('deviceAccess')</code>: <code>").concat(t,"</code>"))}function ue(){var e=Y.getConfig("userSync");if(e){var t,n,r,o,a=null==e||null===(t=e.filterSettings)||void 0===t?void 0:t.iframe,c=null==e||null===(n=e.filterSettings)||void 0===n?void 0:n.all,d=a&&((null==a||null===(r=a.bidders)||void 0===r?void 0:r.includes("*"))||Array.isArray(null==a?void 0:a.bidders)&&(null==a?void 0:a.bidders.some(function(e){var t;return null==e||null===(t=e.toLowerCase())||void 0===t?void 0:t.includes("adagio")})))&&"include"===a.filter,l=c&&((null==c||null===(o=c.bidders)||void 0===o?void 0:o.includes("*"))||Array.isArray(null==c?void 0:c.bidders)&&(null==c?void 0:c.bidders.some(function(e){var t;return null==e||null===(t=e.toLowerCase())||void 0===t?void 0:t.includes("adagio")})))&&"include"===c.filter;d?vt(i.ok,s.usersync,"<code>".concat(JSON.stringify(a),"</code>")):l&&vt(i.ok,s.usersync,"<code>".concat(JSON.stringify(c),"</code>"))}else vt(i.ko,s.usersync,"Usersync won't work for Adagio: <code>".concat(JSON.stringify(e),"</code>"))}function pe(){var e,t,n=Y.bidderSettings;function r(e){return"boolean"==typeof e?!0===e:!!Array.isArray(e)&&e.includes("html5")}var o=null===(e=n.standard)||void 0===e?void 0:e.storageAllowed,a=null===(t=n.adagio)||void 0===t?void 0:t.storageAllowed;r(o)?vt(i.ok,s.localstorage,"<code>".concat(W[0],".bidderSettings.standard.storageAllowed</code>: <code>").concat(JSON.stringify(o),"</code>")):r(a)?vt(i.ok,s.localstorage,"<code>".concat(W[0],".bidderSettings.adagio.storageAllowed</code>: <code>").concat(JSON.stringify(a),"</code>")):vt(i.ko,s.localstorage,"Localstorage won't work for Adagio: <code>".concat(JSON.stringify(n),"</code>"))}function he(){if("function"==typeof Y.getUserIdsAsEids){var e=Y.getUserIdsAsEids(),t=e.length,n=e.filter(function(e){return e.uids.length});if(n.length){var r=n.length,o=n.map(function(e){return e.source}),a=r/t*100;vt(i.info,s.userids,"\n                ‚Ä¢ Installed / present: <code>".concat(t,"/").concat(r," (").concat(a.toFixed(2),"%)</code><br>\n                ‚Ä¢ Uids: <code>").concat(o.join(", "),"</code>\n            "))}else vt(i.info,s.userids,"No User IDs present.")}else vt(i.info,s.userids,"<code>".concat(W[0],".getUserIdsAsEids()</code>: <code>undefined</code>"))}function fe(e){var t=[];if(((e.filter(function(e){return"bidRequested"===e.eventType}).map(function(e){return e.args})||[]).filter(function(e){var t;return null===(t=e.bidderCode)||void 0===t||null===(t=t.toLowerCase())||void 0===t?void 0:t.includes("adagio")})||[]).forEach(function(e){var n={};e.bids.forEach(function(e){var t=e.adUnitCode;Object.keys(e.mediaTypes||{}).forEach(function(e){var r="".concat(t,"::").concat(e);n[r]=(n[r]||0)+1})}),Object.entries(n).forEach(function(e){var n=U(e,2),r=n[0];n[1]>1&&t.push(r)})}),t.length){var n=t.map(function(e){var t=U(e.split("::"),2),n=t[0],r=t[1];return"<code>".concat(n,"</code> (<code>").concat(r,"</code>)")}).join(", ");vt(i.ko,s.duplicated,"Duplication detected: ".concat(n,"."))}else vt(i.ok,s.duplicated,"No duplication detected.")}function ve(){var e=Y.getConfig("currency");vt(i.info,s.currency,void 0!==e?"<code>".concat(JSON.stringify(e),"</code>"):"<code>".concat(W[0],".getConfig('currency')</code>: <code>").concat(e,"</code>"))}function me(){var e=Y.getConfig("floors");vt(i.info,s.floors,void 0!==e?"<code>".concat(JSON.stringify(e),"</code>"):"<code>".concat(W[0],".getConfig('floors')</code>: <code>").concat(e,"</code>"))}function ge(e){return e.getEvents()}function ye(e){return e.filter(function(e){return"bidRequested"===e.eventType}).map(function(e){return e.args}).map(function(e){return e.bids}).flat()}function be(e){return e.filter(function(e){var t;return null===(t=e.bidder)||void 0===t||null===(t=t.toLowerCase())||void 0===t?void 0:t.includes("adagio")})||[]}class Ee extends Error{constructor(e){super(e),this.name="DecodingError"}}class Ce extends Error{constructor(e){super(e),this.name="EncodingError"}}class Se extends Error{constructor(e){super(e),this.name="GVLError"}}class we extends Error{constructor(e,t,n=""){super(`invalid value ${t} passed for ${e} ${n}`),this.name="TCModelError"}}class Ae{static DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";static REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]);static BASIS=6;static LCM=24;static encode(e){if(!/^[0-1]+$/.test(e))throw new Ce("Invalid bitField");const t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";let n="";for(let t=0;t<e.length;t+=this.BASIS)n+=this.DICT[parseInt(e.substr(t,this.BASIS),2)];return n}static decode(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new Ee("Invalidly encoded Base64URL string");let t="";for(let n=0;n<e.length;n++){const r=this.REVERSE_DICT.get(e[n]).toString(2);t+="0".repeat(this.BASIS-r.length)+r}return t}}class Ie{static langSet=new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]);has(e){return Ie.langSet.has(e)}forEach(e){Ie.langSet.forEach(e)}get size(){return Ie.langSet.size}}class Le{static cmpId="cmpId";static cmpVersion="cmpVersion";static consentLanguage="consentLanguage";static consentScreen="consentScreen";static created="created";static supportOOB="supportOOB";static isServiceSpecific="isServiceSpecific";static lastUpdated="lastUpdated";static numCustomPurposes="numCustomPurposes";static policyVersion="policyVersion";static publisherCountryCode="publisherCountryCode";static publisherCustomConsents="publisherCustomConsents";static publisherCustomLegitimateInterests="publisherCustomLegitimateInterests";static publisherLegitimateInterests="publisherLegitimateInterests";static publisherConsents="publisherConsents";static publisherRestrictions="publisherRestrictions";static purposeConsents="purposeConsents";static purposeLegitimateInterests="purposeLegitimateInterests";static purposeOneTreatment="purposeOneTreatment";static specialFeatureOptins="specialFeatureOptins";static useNonStandardStacks="useNonStandardStacks";static vendorConsents="vendorConsents";static vendorLegitimateInterests="vendorLegitimateInterests";static vendorListVersion="vendorListVersion";static vendorsAllowed="vendorsAllowed";static vendorsDisclosed="vendorsDisclosed";static version="version"}class Oe{clone(){const e=new this.constructor;return Object.keys(this).forEach(t=>{const n=this.deepClone(this[t]);void 0!==n&&(e[t]=n)}),e}deepClone(e){const t=typeof e;if("number"===t||"string"===t||"boolean"===t)return e;if(null!==e&&"object"===t){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){const t=[];for(const n of e)t.push(this.deepClone(n));return e instanceof Array?t:new e.constructor(t)}{const t={};for(const n in e)e.hasOwnProperty(n)&&(t[n]=this.deepClone(e[n]));return t}}}}!function(e){e[e.NOT_ALLOWED=0]="NOT_ALLOWED",e[e.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",e[e.REQUIRE_LI=2]="REQUIRE_LI"}(F||(F={}));class ke extends Oe{static hashSeparator="-";purposeId_;restrictionType;constructor(e,t){super(),void 0!==e&&(this.purposeId=e),void 0!==t&&(this.restrictionType=t)}static unHash(e){const t=e.split(this.hashSeparator),n=new ke;if(2!==t.length)throw new we("hash",e);return n.purposeId=parseInt(t[0],10),n.restrictionType=parseInt(t[1],10),n}get hash(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return`${this.purposeId}${ke.hashSeparator}${this.restrictionType}`}get purposeId(){return this.purposeId_}set purposeId(e){this.purposeId_=e}isValid(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===F.NOT_ALLOWED||this.restrictionType===F.REQUIRE_CONSENT||this.restrictionType===F.REQUIRE_LI)}isSameAs(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType}}class Te extends Oe{root=null;getRoot(){return this.root}isEmpty(){return!this.root}add(e){const t={value:e,left:null,right:null};let n;if(this.isEmpty())this.root=t;else for(n=this.root;;)if(e<n.value){if(null===n.left){n.left=t;break}n=n.left}else{if(!(e>n.value))break;if(null===n.right){n.right=t;break}n=n.right}}get(){const e=[];let t=this.root;for(;t;)if(t.left){let n=t.left;for(;n.right&&n.right!=t;)n=n.right;n.right==t?(n.right=null,e.push(t.value),t=t.right):(n.right=t,t=t.left)}else e.push(t.value),t=t.right;return e}contains(e){let t=!1,n=this.root;for(;n;){if(n.value===e){t=!0;break}e>n.value?n=n.right:e<n.value&&(n=n.left)}return t}min(e=this.root){let t;for(;e;)e.left?e=e.left:(t=e.value,e=null);return t}max(e=this.root){let t;for(;e;)e.right?e=e.right:(t=e.value,e=null);return t}remove(e,t=this.root){let n=null,r="left";for(;t;)if(e<t.value)n=t,t=t.left,r="left";else if(e>t.value)n=t,t=t.right,r="right";else{if(t.left||t.right)if(t.left)if(t.right){const e=this.min(t.right);this.remove(e,t.right),t.value=e}else n?n[r]=t.left:this.root=t.left;else n?n[r]=t.right:this.root=t.right;else n?n[r]=null:this.root=null;t=null}}static build(e){if(e&&0!==e.length){if(1===e.length){const t=new Te;return t.add(e[0]),t}{const t=e.length>>1,n=new Te;n.add(e[t]);const r=n.getRoot();if(r){if(t+1<e.length){const n=Te.build(e.slice(t+1));r.right=n?n.getRoot():null}if(t-1>0){const n=Te.build(e.slice(0,t-1));r.left=n?n.getRoot():null}}return n}}return null}}class _e extends Oe{bitLength=0;map=new Map;gvl_;has(e){return this.map.has(e)}isOkToHave(e,t,n){let r=!0;if(this.gvl?.vendors){const o=this.gvl.vendors[n];if(o)if(e===F.NOT_ALLOWED)r=o.legIntPurposes.includes(t)||o.purposes.includes(t);else if(o.flexiblePurposes.length)switch(e){case F.REQUIRE_CONSENT:r=o.flexiblePurposes.includes(t)&&o.legIntPurposes.includes(t);break;case F.REQUIRE_LI:r=o.flexiblePurposes.includes(t)&&o.purposes.includes(t)}else r=!1;else r=!1}return r}add(e,t){if(this.isOkToHave(t.restrictionType,t.purposeId,e)){const n=t.hash;this.has(n)||(this.map.set(n,new Te),this.bitLength=0),this.map.get(n).add(e)}}restrictPurposeToLegalBasis(e){const t=this.gvl.vendorIds,n=e.hash,r=function(){let e;for(e of t);return e}(),o=[...Array(r).keys()].map(e=>e+1);for(let e=1;e<=r;e++)this.has(n)||(this.map.set(n,Te.build(o)),this.bitLength=0),this.map.get(n).add(e)}getVendors(e){let t=[];if(e){const n=e.hash;this.has(n)&&(t=this.map.get(n).get())}else{const e=new Set;this.map.forEach(t=>{t.get().forEach(t=>{e.add(t)})}),t=Array.from(e)}return t}getRestrictionType(e,t){let n;return this.getRestrictions(e).forEach(e=>{e.purposeId===t&&(void 0===n||n>e.restrictionType)&&(n=e.restrictionType)}),n}vendorHasRestriction(e,t){let n=!1;const r=this.getRestrictions(e);for(let e=0;e<r.length&&!n;e++)n=t.isSameAs(r[e]);return n}getMaxVendorId(){let e=0;return this.map.forEach(t=>{e=Math.max(t.max(),e)}),e}getRestrictions(e){const t=[];return this.map.forEach((n,r)=>{e?n.contains(e)&&t.push(ke.unHash(r)):t.push(ke.unHash(r))}),t}getPurposes(){const e=new Set;return this.map.forEach((t,n)=>{e.add(ke.unHash(n).purposeId)}),Array.from(e)}remove(e,t){const n=t.hash,r=this.map.get(n);r&&(r.remove(e),r.isEmpty()&&(this.map.delete(n),this.bitLength=0))}set gvl(e){this.gvl_||(this.gvl_=e,this.map.forEach((e,t)=>{const n=ke.unHash(t);e.get().forEach(t=>{this.isOkToHave(n.restrictionType,n.purposeId,t)||e.remove(t)})}))}get gvl(){return this.gvl_}isEmpty(){return 0===this.map.size}get numRestrictions(){return this.map.size}}!function(e){e.COOKIE="cookie",e.WEB="web",e.APP="app"}(B||(B={})),function(e){e.CORE="core",e.VENDORS_DISCLOSED="vendorsDisclosed",e.VENDORS_ALLOWED="vendorsAllowed",e.PUBLISHER_TC="publisherTC"}(z||(z={}));class Ne{static ID_TO_KEY=[z.CORE,z.VENDORS_DISCLOSED,z.VENDORS_ALLOWED,z.PUBLISHER_TC];static KEY_TO_ID={[z.CORE]:0,[z.VENDORS_DISCLOSED]:1,[z.VENDORS_ALLOWED]:2,[z.PUBLISHER_TC]:3}}class xe extends Oe{bitLength=0;maxId_=0;set_=new Set;*[Symbol.iterator](){for(let e=1;e<=this.maxId;e++)yield[e,this.has(e)]}values(){return this.set_.values()}get maxId(){return this.maxId_}has(e){return this.set_.has(e)}unset(e){Array.isArray(e)?e.forEach(e=>this.unset(e)):"object"==typeof e?this.unset(Object.keys(e).map(e=>Number(e))):(this.set_.delete(Number(e)),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach(e=>{this.maxId_=Math.max(this.maxId,e)})))}isIntMap(e){let t="object"==typeof e;return t=t&&Object.keys(e).every(t=>{let n=Number.isInteger(parseInt(t,10));return n=n&&this.isValidNumber(e[t].id),n=n&&void 0!==e[t].name,n}),t}isValidNumber(e){return parseInt(e,10)>0}isSet(e){let t=!1;return e instanceof Set&&(t=Array.from(e).every(this.isValidNumber)),t}set(e){if(Array.isArray(e))e.forEach(e=>this.set(e));else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map(e=>Number(e)));else{if(!this.isValidNumber(e))throw new we("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}}empty(){this.set_=new Set}forEach(e){for(let t=1;t<=this.maxId;t++)e(this.has(t),t)}get size(){return this.set_.size}setAll(e){this.set(e)}}class Pe{static[Le.cmpId]=12;static[Le.cmpVersion]=12;static[Le.consentLanguage]=12;static[Le.consentScreen]=6;static[Le.created]=36;static[Le.isServiceSpecific]=1;static[Le.lastUpdated]=36;static[Le.policyVersion]=6;static[Le.publisherCountryCode]=12;static[Le.publisherLegitimateInterests]=24;static[Le.publisherConsents]=24;static[Le.purposeConsents]=24;static[Le.purposeLegitimateInterests]=24;static[Le.purposeOneTreatment]=1;static[Le.specialFeatureOptins]=12;static[Le.useNonStandardStacks]=1;static[Le.vendorListVersion]=12;static[Le.version]=6;static anyBoolean=1;static encodingType=1;static maxId=16;static numCustomPurposes=6;static numEntries=12;static numRestrictions=12;static purposeId=6;static restrictionType=2;static segmentType=3;static singleOrRange=1;static vendorId=16}class Ve{static encode(e,t){let n;if("string"==typeof e&&(e=parseInt(e,10)),n=e.toString(2),n.length>t||e<0)throw new Ce(`${e} too large to encode into ${t}`);return n.length<t&&(n="0".repeat(t-n.length)+n),n}static decode(e,t){if(t!==e.length)throw new Ee("invalid bit length");return parseInt(e,2)}}class Re{static encode(e,t){return Ve.encode(Math.round(e.getTime()/100),t)}static decode(e,t){if(t!==e.length)throw new Ee("invalid bit length");const n=new Date;return n.setTime(100*Ve.decode(e,t)),n}}class je{static encode(e){return String(Number(e))}static decode(e){return"1"===e}}class Ue{static encode(e,t){let n="";for(let r=1;r<=t;r++)n+=je.encode(e.has(r));return n}static decode(e,t){if(e.length!==t)throw new Ee("bitfield encoding length mismatch");const n=new xe;for(let r=1;r<=t;r++)je.decode(e[r-1])&&n.set(r);return n.bitLength=e.length,n}}class De{static encode(e,t){const n=(e=e.toUpperCase()).charCodeAt(0)-65,r=e.charCodeAt(1)-65;if(n<0||n>25||r<0||r>25)throw new Ce(`invalid language code: ${e}`);if(t%2==1)throw new Ce(`numBits must be even, ${t} is not valid`);return t/=2,Ve.encode(n,t)+Ve.encode(r,t)}static decode(e,t){let n;if(t!==e.length||e.length%2)throw new Ee("invalid bit length for language");{const t=65,r=e.length/2,o=Ve.decode(e.slice(0,r),r)+t,i=Ve.decode(e.slice(r),r)+t;n=String.fromCharCode(o)+String.fromCharCode(i)}return n}}class Me{static encode(e){let t=Ve.encode(e.numRestrictions,Pe.numRestrictions);return e.isEmpty()||e.getRestrictions().forEach(n=>{t+=Ve.encode(n.purposeId,Pe.purposeId),t+=Ve.encode(n.restrictionType,Pe.restrictionType);const r=e.getVendors(n),o=r.length;let i=0,s=0,a="";for(let t=0;t<o;t++){const n=r[t];0===s&&(i++,s=n);const c=r[o-1],d=e.gvl.vendorIds,l=e=>{for(;++e<=c&&!d.has(e););return e};if(t===o-1||r[t+1]>l(n)){const e=!(n===s);a+=je.encode(e),a+=Ve.encode(s,Pe.vendorId),e&&(a+=Ve.encode(n,Pe.vendorId)),s=0}}t+=Ve.encode(i,Pe.numEntries),t+=a}),t}static decode(e){let t=0;const n=new _e,r=Ve.decode(e.substr(t,Pe.numRestrictions),Pe.numRestrictions);t+=Pe.numRestrictions;for(let o=0;o<r;o++){const r=Ve.decode(e.substr(t,Pe.purposeId),Pe.purposeId);t+=Pe.purposeId;const o=Ve.decode(e.substr(t,Pe.restrictionType),Pe.restrictionType);t+=Pe.restrictionType;const i=new ke(r,o),s=Ve.decode(e.substr(t,Pe.numEntries),Pe.numEntries);t+=Pe.numEntries;for(let r=0;r<s;r++){const r=je.decode(e.substr(t,Pe.anyBoolean));t+=Pe.anyBoolean;const o=Ve.decode(e.substr(t,Pe.vendorId),Pe.vendorId);if(t+=Pe.vendorId,r){const r=Ve.decode(e.substr(t,Pe.vendorId),Pe.vendorId);if(t+=Pe.vendorId,r<o)throw new Ee(`Invalid RangeEntry: endVendorId ${r} is less than ${o}`);for(let e=o;e<=r;e++)n.add(e,i)}else n.add(o,i)}}return n.bitLength=t,n}}!function(e){e[e.FIELD=0]="FIELD",e[e.RANGE=1]="RANGE"}(J||(J={}));class Ge{static encode(e){const t=[];let n,r=[],o=Ve.encode(e.maxId,Pe.maxId),i="";const s=Pe.maxId+Pe.encodingType,a=s+e.maxId,c=2*Pe.vendorId+Pe.singleOrRange+Pe.numEntries;let d=s+Pe.numEntries;return e.forEach((o,s)=>{i+=je.encode(o),n=e.maxId>c&&d<a,n&&o&&(e.has(s+1)?0===r.length&&(r.push(s),d+=Pe.singleOrRange,d+=Pe.vendorId):(r.push(s),d+=Pe.vendorId,t.push(r),r=[]))}),n?(o+=String(J.RANGE),o+=this.buildRangeEncoding(t)):(o+=String(J.FIELD),o+=i),o}static decode(e,t){let n,r=0;const o=Ve.decode(e.substr(r,Pe.maxId),Pe.maxId);r+=Pe.maxId;const i=Ve.decode(e.charAt(r),Pe.encodingType);if(r+=Pe.encodingType,i===J.RANGE){if(n=new xe,1===t){if("1"===e.substr(r,1))throw new Ee("Unable to decode default consent=1");r++}const o=Ve.decode(e.substr(r,Pe.numEntries),Pe.numEntries);r+=Pe.numEntries;for(let t=0;t<o;t++){const t=je.decode(e.charAt(r));r+=Pe.singleOrRange;const o=Ve.decode(e.substr(r,Pe.vendorId),Pe.vendorId);if(r+=Pe.vendorId,t){const t=Ve.decode(e.substr(r,Pe.vendorId),Pe.vendorId);r+=Pe.vendorId;for(let e=o;e<=t;e++)n.set(e)}else n.set(o)}}else{const t=e.substr(r,o);r+=o,n=Ue.decode(t,o)}return n.bitLength=r,n}static buildRangeEncoding(e){const t=e.length;let n=Ve.encode(t,Pe.numEntries);return e.forEach(e=>{const t=1===e.length;n+=je.encode(!t),n+=Ve.encode(e[0],Pe.vendorId),t||(n+=Ve.encode(e[1],Pe.vendorId))}),n}}function He(){return{[Le.version]:Ve,[Le.created]:Re,[Le.lastUpdated]:Re,[Le.cmpId]:Ve,[Le.cmpVersion]:Ve,[Le.consentScreen]:Ve,[Le.consentLanguage]:De,[Le.vendorListVersion]:Ve,[Le.policyVersion]:Ve,[Le.isServiceSpecific]:je,[Le.useNonStandardStacks]:je,[Le.specialFeatureOptins]:Ue,[Le.purposeConsents]:Ue,[Le.purposeLegitimateInterests]:Ue,[Le.purposeOneTreatment]:je,[Le.publisherCountryCode]:De,[Le.vendorConsents]:Ge,[Le.vendorLegitimateInterests]:Ge,[Le.publisherRestrictions]:Me,segmentType:Ve,[Le.vendorsDisclosed]:Ge,[Le.vendorsAllowed]:Ge,[Le.publisherConsents]:Ue,[Le.publisherLegitimateInterests]:Ue,[Le.numCustomPurposes]:Ve,[Le.publisherCustomConsents]:Ue,[Le.publisherCustomLegitimateInterests]:Ue}}class Fe{1={[z.CORE]:[Le.version,Le.created,Le.lastUpdated,Le.cmpId,Le.cmpVersion,Le.consentScreen,Le.consentLanguage,Le.vendorListVersion,Le.purposeConsents,Le.vendorConsents]};2={[z.CORE]:[Le.version,Le.created,Le.lastUpdated,Le.cmpId,Le.cmpVersion,Le.consentScreen,Le.consentLanguage,Le.vendorListVersion,Le.policyVersion,Le.isServiceSpecific,Le.useNonStandardStacks,Le.specialFeatureOptins,Le.purposeConsents,Le.purposeLegitimateInterests,Le.purposeOneTreatment,Le.publisherCountryCode,Le.vendorConsents,Le.vendorLegitimateInterests,Le.publisherRestrictions],[z.PUBLISHER_TC]:[Le.publisherConsents,Le.publisherLegitimateInterests,Le.numCustomPurposes,Le.publisherCustomConsents,Le.publisherCustomLegitimateInterests],[z.VENDORS_ALLOWED]:[Le.vendorsAllowed],[z.VENDORS_DISCLOSED]:[Le.vendorsDisclosed]}}class Be{1=[z.CORE];2=[z.CORE];constructor(e,t){if(2===e.version)if(e.isServiceSpecific)this[2].push(z.PUBLISHER_TC);else{const n=!(!t||!t.isForVendors);n&&!0!==e[Le.supportOOB]||this[2].push(z.VENDORS_DISCLOSED),n&&(e[Le.supportOOB]&&e[Le.vendorsAllowed].size>0&&this[2].push(z.VENDORS_ALLOWED),this[2].push(z.PUBLISHER_TC))}}}class ze{static fieldSequence=new Fe;static encode(e,t){let n;try{n=this.fieldSequence[String(e.version)][t]}catch(n){throw new Ce(`Unable to encode version: ${e.version}, segment: ${t}`)}let r="";t!==z.CORE&&(r=Ve.encode(Ne.KEY_TO_ID[t],Pe.segmentType));const o=He();return n.forEach(n=>{const i=e[n],s=o[n];let a=Pe[n];void 0===a&&this.isPublisherCustom(n)&&(a=Number(e[Le.numCustomPurposes]));try{r+=s.encode(i,a)}catch(e){throw new Ce(`Error encoding ${t}->${n}: ${e.message}`)}}),Ae.encode(r)}static decode(e,t,n){const r=Ae.decode(e);let o=0;n===z.CORE&&(t.version=Ve.decode(r.substr(o,Pe[Le.version]),Pe[Le.version])),n!==z.CORE&&(o+=Pe.segmentType);const i=this.fieldSequence[String(t.version)][n],s=He();return i.forEach(e=>{const n=s[e];let i=Pe[e];if(void 0===i&&this.isPublisherCustom(e)&&(i=Number(t[Le.numCustomPurposes])),0!==i){const s=r.substr(o,i);if(t[e]=n===Ge?n.decode(s,t.version):n.decode(s,i),Number.isInteger(i))o+=i;else{if(!Number.isInteger(t[e].bitLength))throw new Ee(e);o+=t[e].bitLength}}}),t}static isPublisherCustom(e){return 0===e.indexOf("publisherCustom")}}class Je{static processor=[e=>e,(e,t)=>{e.publisherRestrictions.gvl=t,e.purposeLegitimateInterests.unset(1);const n=new Map;return n.set("legIntPurposes",e.vendorLegitimateInterests),n.set("purposes",e.vendorConsents),n.forEach((n,r)=>{n.forEach((o,i)=>{if(o){const o=t.vendors[i];if(!o||o.deletedDate)n.unset(i);else if(0===o[r].length)if("legIntPurposes"===r&&0===o.purposes.length&&0===o.legIntPurposes.length&&o.specialPurposes.length>0);else if(e.isServiceSpecific)if(0===o.flexiblePurposes.length)n.unset(i);else{const t=e.publisherRestrictions.getRestrictions(i);let o=!1;for(let e=0,n=t.length;e<n&&!o;e++)o=t[e].restrictionType===F.REQUIRE_CONSENT&&"purposes"===r||t[e].restrictionType===F.REQUIRE_LI&&"legIntPurposes"===r;o||n.unset(i)}else n.unset(i)}})}),e.vendorsDisclosed.set(t.vendors),e}];static process(e,t){const n=e.gvl;if(!n)throw new Ce("Unable to encode TCModel without a GVL");if(!n.isReady)throw new Ce("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=n.language.toUpperCase(),t?.version>0&&t?.version<=this.processor.length?e.version=t.version:e.version=this.processor.length;const r=e.version-1;if(!this.processor[r])throw new Ce(`Invalid version: ${e.version}`);return this.processor[r](e,n)}}class $e{static absCall(e,t,n,r){return new Promise((o,i)=>{const s=new XMLHttpRequest;s.withCredentials=n,s.addEventListener("load",()=>{if(s.readyState==XMLHttpRequest.DONE)if(s.status>=200&&s.status<300){let e=s.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}o(e)}else i(new Error(`HTTP Status: ${s.status} response type: ${s.responseType}`))}),s.addEventListener("error",()=>{i(new Error("error"))}),s.addEventListener("abort",()=>{i(new Error("aborted"))}),null===t?s.open("GET",e,!0):s.open("POST",e,!0),s.responseType="json",s.timeout=r,s.ontimeout=()=>{i(new Error("Timeout "+r+"ms "+e))},s.send(t)})}static post(e,t,n=!1,r=0){return this.absCall(e,JSON.stringify(t),n,r)}static fetch(e,t=!1,n=0){return this.absCall(e,null,t,n)}}class We extends Oe{static LANGUAGE_CACHE=new Map;static CACHE=new Map;static LATEST_CACHE_KEY=0;static DEFAULT_LANGUAGE="EN";static consentLanguages=new Ie;static baseUrl_;static set baseUrl(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new Se("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e}static get baseUrl(){return this.baseUrl_}static latestFilename="vendor-list.json";static versionedFilename="archives/vendor-list-v[VERSION].json";static languageFilename="purposes-[LANG].json";readyPromise;gvlSpecificationVersion;vendorListVersion;tcfPolicyVersion;lastUpdated;purposes;specialPurposes;features;specialFeatures;isReady_=!1;vendors_;vendorIds;fullVendorList;byPurposeVendorMap;bySpecialPurposeVendorMap;byFeatureVendorMap;bySpecialFeatureVendorMap;stacks;lang_;isLatest=!1;constructor(e){super();let t=We.baseUrl;if(this.lang_=We.DEFAULT_LANGUAGE,this.isVendorList(e))this.populate(e),this.readyPromise=Promise.resolve();else{if(!t)throw new Se("must specify GVL.baseUrl before loading GVL json");if(e>0){const n=e;We.CACHE.has(n)?(this.populate(We.CACHE.get(n)),this.readyPromise=Promise.resolve()):(t+=We.versionedFilename.replace("[VERSION]",String(n)),this.readyPromise=this.fetchJson(t))}else We.CACHE.has(We.LATEST_CACHE_KEY)?(this.populate(We.CACHE.get(We.LATEST_CACHE_KEY)),this.readyPromise=Promise.resolve()):(this.isLatest=!0,this.readyPromise=this.fetchJson(t+We.latestFilename))}}static emptyLanguageCache(e){let t=!1;return void 0===e&&We.LANGUAGE_CACHE.size>0?(We.LANGUAGE_CACHE=new Map,t=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(We.LANGUAGE_CACHE.delete(e.toUpperCase()),t=!0),t}static emptyCache(e){let t=!1;return Number.isInteger(e)&&e>=0?(We.CACHE.delete(e),t=!0):void 0===e&&(We.CACHE=new Map,t=!0),t}cacheLanguage(){We.LANGUAGE_CACHE.has(this.lang_)||We.LANGUAGE_CACHE.set(this.lang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks})}async fetchJson(e){try{this.populate(await $e.fetch(e))}catch(e){throw new Se(e.message)}}getJson(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,vendors:this.fullVendorList}))}async changeLanguage(e){const t=e.toUpperCase();if(!We.consentLanguages.has(t))throw new Se(`unsupported language ${e}`);if(t!==this.lang_)if(this.lang_=t,We.LANGUAGE_CACHE.has(t)){const e=We.LANGUAGE_CACHE.get(t);for(const t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}else{const t=We.baseUrl+We.languageFilename.replace("[LANG]",e);try{await this.fetchJson(t),this.cacheLanguage()}catch(e){throw new Se("unable to load language: "+e.message)}}}get language(){return this.lang_}isVendorList(e){return void 0!==e&&void 0!==e.vendors}populate(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&We.CACHE.set(We.LATEST_CACHE_KEY,this.getJson()),We.CACHE.has(this.vendorListVersion)||We.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()}mapVendors(e){this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach(e=>{this.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}}),Object.keys(this.specialPurposes).forEach(e=>{this.bySpecialPurposeVendorMap[e]=new Set}),Object.keys(this.features).forEach(e=>{this.byFeatureVendorMap[e]=new Set}),Object.keys(this.specialFeatures).forEach(e=>{this.bySpecialFeatureVendorMap[e]=new Set}),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map(e=>+e)),this.vendorIds=new Set(e),this.vendors_=e.reduce((e,t)=>{const n=this.vendors_[String(t)];return n&&void 0===n.deletedDate&&(n.purposes.forEach(e=>{this.byPurposeVendorMap[String(e)].consent.add(t)}),n.specialPurposes.forEach(e=>{this.bySpecialPurposeVendorMap[String(e)].add(t)}),n.legIntPurposes.forEach(e=>{this.byPurposeVendorMap[String(e)].legInt.add(t)}),n.flexiblePurposes&&n.flexiblePurposes.forEach(e=>{this.byPurposeVendorMap[String(e)].flexible.add(t)}),n.features.forEach(e=>{this.byFeatureVendorMap[String(e)].add(t)}),n.specialFeatures.forEach(e=>{this.bySpecialFeatureVendorMap[String(e)].add(t)}),e[t]=n),e},{})}getFilteredVendors(e,t,n,r){const o=e.charAt(0).toUpperCase()+e.slice(1);let i;const s={};return i="purpose"===e&&n?this["by"+o+"VendorMap"][String(t)][n]:this["by"+(r?"Special":"")+o+"VendorMap"][String(t)],i.forEach(e=>{s[String(e)]=this.vendors[String(e)]}),s}getVendorsWithConsentPurpose(e){return this.getFilteredVendors("purpose",e,"consent")}getVendorsWithLegIntPurpose(e){return this.getFilteredVendors("purpose",e,"legInt")}getVendorsWithFlexiblePurpose(e){return this.getFilteredVendors("purpose",e,"flexible")}getVendorsWithSpecialPurpose(e){return this.getFilteredVendors("purpose",e,void 0,!0)}getVendorsWithFeature(e){return this.getFilteredVendors("feature",e)}getVendorsWithSpecialFeature(e){return this.getFilteredVendors("feature",e,void 0,!0)}get vendors(){return this.vendors_}narrowVendorsTo(e){this.mapVendors(e)}get isReady(){return this.isReady_}clone(){const e=new We(this.getJson());return this.lang_!==We.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e}static isInstanceOf(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo}}class Ye extends Oe{static consentLanguages=We.consentLanguages;isServiceSpecific_=!1;supportOOB_=!0;useNonStandardStacks_=!1;purposeOneTreatment_=!1;publisherCountryCode_="AA";version_=2;consentScreen_=0;policyVersion_=2;consentLanguage_="EN";cmpId_=0;cmpVersion_=0;vendorListVersion_=0;numCustomPurposes_=0;gvl_;created;lastUpdated;specialFeatureOptins=new xe;purposeConsents=new xe;purposeLegitimateInterests=new xe;publisherConsents=new xe;publisherLegitimateInterests=new xe;publisherCustomConsents=new xe;publisherCustomLegitimateInterests=new xe;customPurposes;vendorConsents=new xe;vendorLegitimateInterests=new xe;vendorsDisclosed=new xe;vendorsAllowed=new xe;publisherRestrictions=new _e;constructor(e){super(),e&&(this.gvl=e),this.updated()}set gvl(e){We.isInstanceOf(e)||(e=new We(e)),this.gvl_=e,this.publisherRestrictions.gvl=e}get gvl(){return this.gvl_}set cmpId(e){if(e=Number(e),!(Number.isInteger(e)&&e>1))throw new we("cmpId",e);this.cmpId_=e}get cmpId(){return this.cmpId_}set cmpVersion(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new we("cmpVersion",e);this.cmpVersion_=e}get cmpVersion(){return this.cmpVersion_}set consentScreen(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new we("consentScreen",e);this.consentScreen_=e}get consentScreen(){return this.consentScreen_}set consentLanguage(e){this.consentLanguage_=e}get consentLanguage(){return this.consentLanguage_}set publisherCountryCode(e){if(!/^([A-z]){2}$/.test(e))throw new we("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()}get publisherCountryCode(){return this.publisherCountryCode_}set vendorListVersion(e){if((e=0|Number(e))<0)throw new we("vendorListVersion",e);this.vendorListVersion_=e}get vendorListVersion(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_}set policyVersion(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new we("policyVersion",e)}get policyVersion(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_}set version(e){this.version_=parseInt(e,10)}get version(){return this.version_}set isServiceSpecific(e){this.isServiceSpecific_=e}get isServiceSpecific(){return this.isServiceSpecific_}set useNonStandardStacks(e){this.useNonStandardStacks_=e}get useNonStandardStacks(){return this.useNonStandardStacks_}set supportOOB(e){this.supportOOB_=e}get supportOOB(){return this.supportOOB_}set purposeOneTreatment(e){this.purposeOneTreatment_=e}get purposeOneTreatment(){return this.purposeOneTreatment_}setAllVendorConsents(){this.vendorConsents.set(this.gvl.vendors)}unsetAllVendorConsents(){this.vendorConsents.empty()}setAllVendorsDisclosed(){this.vendorsDisclosed.set(this.gvl.vendors)}unsetAllVendorsDisclosed(){this.vendorsDisclosed.empty()}setAllVendorsAllowed(){this.vendorsAllowed.set(this.gvl.vendors)}unsetAllVendorsAllowed(){this.vendorsAllowed.empty()}setAllVendorLegitimateInterests(){this.vendorLegitimateInterests.set(this.gvl.vendors)}unsetAllVendorLegitimateInterests(){this.vendorLegitimateInterests.empty()}setAllPurposeConsents(){this.purposeConsents.set(this.gvl.purposes)}unsetAllPurposeConsents(){this.purposeConsents.empty()}setAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.set(this.gvl.purposes)}unsetAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.empty()}setAllSpecialFeatureOptins(){this.specialFeatureOptins.set(this.gvl.specialFeatures)}unsetAllSpecialFeatureOptins(){this.specialFeatureOptins.empty()}setAll(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()}unsetAll(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()}get numCustomPurposes(){let e=this.numCustomPurposes_;if("object"==typeof this.customPurposes){const t=Object.keys(this.customPurposes).sort((e,t)=>Number(e)-Number(t));e=parseInt(t.pop(),10)}return e}set numCustomPurposes(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new we("numCustomPurposes",e)}updated(){const e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=t,this.lastUpdated=t}}class qe{static encode(e,t){let n,r="";return e=Je.process(e,t),n=Array.isArray(t?.segments)?t.segments:new Be(e,t)[""+e.version],n.forEach((t,o)=>{let i="";o<n.length-1&&(i="."),r+=ze.encode(e,t)+i}),r}static decode(e,t){const n=e.split("."),r=n.length;t||(t=new Ye);for(let e=0;e<r;e++){const r=n[e],o=Ae.decode(r.charAt(0)).substr(0,Pe.segmentType),i=Ne.ID_TO_KEY[Ve.decode(o,Pe.segmentType).toString()];ze.decode(r,t,i)}return t}}function Ke(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof a?r:a,d=Object.create(c.prototype);return Qe(d,"_invoke",function(n,r,o){var i,a,c,d=0,l=o||[],u=!1,p={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return i=t,a=0,c=e,p.n=n,s}};function h(n,r){for(a=n,c=r,t=0;!u&&d&&!o&&t<l.length;t++){var o,i=l[t],h=p.p,f=i[2];n>3?(o=f===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=h&&((o=n<2&&h<i[1])?(a=0,p.v=r,p.n=i[1]):h<f&&(o=n<3||i[0]>r||r>f)&&(i[4]=n,i[5]=r,p.n=f,a=0))}if(o||n>1)return s;throw u=!0,r}return function(o,l,f){if(d>1)throw TypeError("Generator is already running");for(u&&1===l&&h(l,f),a=l,c=f;(t=a<2?e:c)||!u;){i||(a?a<3?(a>1&&(p.n=-1),h(a,c)):p.n=c:p.v=c);try{if(d=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(u=p.n<0)?c:n.call(r,p))!==s)break}catch(t){i=e,a=1,c=t}finally{d=1}}return{value:t,done:u}}}(n,o,i),!0),d}var s={};function a(){}function c(){}function d(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Qe(t={},r,function(){return this}),t),u=d.prototype=a.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,Qe(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return c.prototype=d,Qe(u,"constructor",d),Qe(d,"constructor",c),c.displayName="GeneratorFunction",Qe(d,o,"GeneratorFunction"),Qe(u),Qe(u,o,"Generator"),Qe(u,r,function(){return this}),Qe(u,"toString",function(){return"[object Generator]"}),(Ke=function(){return{w:i,m:p}})()}function Qe(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Qe=function(e,t,n,r){function i(t,n){Qe(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Qe(e,t,n,r)}function Xe(e){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(e)}function Ze(e){return function(e){if(Array.isArray(e))return tt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||et(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){if(e){if("string"==typeof e)return tt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(e,t):void 0}}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function nt(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function rt(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function s(e){nt(i,r,o,s,a,"next",e)}function a(e){nt(i,r,o,s,a,"throw",e)}s(void 0)})}}var ot=void 0,it=void 0,st=void 0,at=!1;function ct(){return dt.apply(this,arguments)}function dt(){return(dt=rt(Ke().m(function e(){return Ke().w(function(e){for(;;)switch(e.n){case 0:lt(),ut(),pt(),ht(),ft();case 1:return e.a(2)}},e)}))).apply(this,arguments)}function lt(){(ot=window.document.createElement("iframe")).classList.add("adagio-overlay"),ot.style.position="fixed",ot.style.top="10px",ot.style.left="10px",ot.style.width="1000px",ot.style.height="95%",ot.style.zIndex="2147483647",ot.style.backgroundColor="transparent",ot.style.border="none",ot.style.borderRadius="10px",ot.style.boxShadow="rgba(0, 0, 0, 0.35) 0px 5px 15px",ot.style.resize="both",ot.style.display="block",window.document.body.appendChild(ot),it=ot.contentDocument||ot.contentWindow.document}function ut(){var e=it.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href","https://cdn.jsdelivr.net/npm/@picocss/pico@1.5.7/css/pico.min.css");var t=function(){var e=it.createElement("nav");return e.classList.add("container-fluid"),e.setAttribute("id","adagio-nav"),e.style.zIndex="99",e.style.position="fixed",e.style.top="0",e.style.right="0",e.style.left="0",e.style.padding="0 var(--spacing)",e.style.backgroundColor="var(--card-background-color)",e.style.boxShadow="var(--card-box-shadow)",e}();t.appendChild(function(){var e=it.createElement("ul"),t=it.createElement("li"),r=it.createElement("a");return r.setAttribute("href","https://app.adagio.io/"),r.setAttribute("target","_blank"),r.innerHTML=n.logo,t.appendChild(r),e.appendChild(t),e}());var i,s,a,c=it.createElement("ul");c.appendChild(gt(r.checker,n.checker,!0)),c.appendChild(gt(r.adunits,n.adunits,!1)),c.appendChild(function(e,t){var n=$.length,r=it.createElement("li"),i=it.createElement("button");i.setAttribute("title","Prebid versions detected"),0!==n||(i.disabled=!0),i.innerHTML=t,i.classList.add("outline"),i.style.borderColor="transparent",i.style.position="relative",i.style.display="inline-block",i.style.padding="0.3em";var s=it.createElement("span");s.style.position="absolute",s.style.top="-10px",s.style.right="-10px",s.style.padding="0.5em 0.9em",s.style.borderRadius="50%",s.style.fontSize="0.6em",s.style.background=o.red_bkg,s.style.color=o.red_txt,s.innerHTML=n,n<2&&(s.style.display="none");var a=it.createElement("dialog");a.setAttribute("open",!1);var c=it.createElement("article"),d=it.createElement("header"),l=it.createElement("a");l.setAttribute("aria-label","Close"),l.classList.add("close"),d.innerHTML="Prebid wrappers detected";var u=it.createElement("p");l.addEventListener("click",function(){a.setAttribute("open",!1)}),i.addEventListener("click",function(){a.setAttribute("open",!0)}),r.appendChild(i),i.appendChild(s),it.body.appendChild(a),a.appendChild(c),c.appendChild(d),d.appendChild(l),c.appendChild(u);for(var p=function(){var e=$[h],t=e[0],n=e[1],r=e[1][e[0]],o=it.createElement("div"),i=it.createElement("input");i.setAttribute("type","radio"),i.setAttribute("value",h),i.setAttribute("name","radio-group");var s=it.createElement("label");s.setAttribute("for",h),s.innerHTML="".concat(t," (v").concat(P(r),")"),W[0]===t&&Object.is(W[1],n)&&(i.checked=!0),i.addEventListener("click",function(){var e;i.checked&&(e=[i.value],W=$[e],Y=W[1][W[0]],q=P(Y),Et())}),u.appendChild(o),o.appendChild(i),o.appendChild(s)},h=0;h<n;h++)p();return r}(0,n.prebid)),c.appendChild((i=n.debbuging,s=it.createElement("li"),(a=it.createElement("button")).setAttribute("title","Enable debbug mode and reload page"),a.innerHTML=i,a.addEventListener("click",function(){return function(){window.localStorage.setItem("ADAGIO_DEV_DEBUG",!0);var e=window.location.href.indexOf("?pbjs_debug=true")?window.location.href+"?pbjs_debug=true":window.location.href;window.location.href=e}()}),a.classList.add("outline"),a.style.borderColor="transparent",a.style.padding="0.3em",s.appendChild(a),s)),c.appendChild(function(e,t){var n=it.createElement("li"),r=it.createElement("button");return r.setAttribute("title","Refresh"),r.innerHTML=t,r.addEventListener("click",function(){return Et()}),r.classList.add("outline"),r.style.borderColor="transparent",r.style.padding="0.3em",n.appendChild(r),n}(0,n.refresh)),t.appendChild(c),it.head.appendChild(e),it.body.appendChild(t)}function pt(){var e=r.checker.toLowerCase().replace(" ","-"),t=it.createElement("main");t.classList.add("container-fluid"),t.setAttribute("id","".concat(e,"-container")),t.style.paddingTop="5rem",t.style.paddingBottom="0";var n=it.createElement("div");n.classList.add("headings");var i=it.createElement("h2");i.textContent="Integration checker";var s=it.createElement("h3");s.textContent="Expectations for a proper Adagio integration",n.appendChild(i),n.appendChild(s);var a=it.createElement("article");a.style.padding="1em",a.style.marginLeft="",a.style.marginRight="",a.style.marginTop="1em",a.style.marginBottom="1em",a.style.color=o.yellow_txt,a.style.backgroundColor=o.yellow_bkg;var c=it.createElement("div");c.setAttribute("id","".concat(e,"-alert")),a.appendChild(c);var d=it.createElement("table"),l=it.createElement("thead"),u=it.createElement("tr"),p=it.createElement("th");p.setAttribute("scope","col"),p.textContent="Status";var h=it.createElement("th");h.setAttribute("scope","col"),h.textContent="Name";var f=it.createElement("th");f.setAttribute("scope","col"),f.textContent="Details",u.appendChild(p),u.appendChild(h),u.appendChild(f),l.appendChild(u);var v=it.createElement("tbody");v.setAttribute("id","".concat(e,"-tbody")),d.appendChild(l),d.appendChild(v),t.appendChild(n),t.appendChild(a),t.appendChild(d),it.body.appendChild(t)}function ht(){var e=r.adunits.toLowerCase().replace(" ","-"),t=it.createElement("main");t.classList.add("container-fluid"),t.setAttribute("id","".concat(e,"-container")),t.style.display="none",t.style.paddingTop="5rem",t.style.paddingBottom="0";var n=it.createElement("div");n.classList.add("headings");var i=it.createElement("h2");i.textContent="AdUnits";var s=it.createElement("h3");s.textContent="Bid requested for each adUnit and by bidders",n.appendChild(i),n.appendChild(s);var a=it.createElement("article");a.style.padding="1em",a.style.marginLeft="",a.style.marginRight="",a.style.marginTop="1em",a.style.marginBottom="1em",a.style.color=o.yellow_txt,a.style.backgroundColor=o.yellow_bkg;var c=it.createElement("div");c.setAttribute("id","".concat(e,"-alert")),a.appendChild(c);var d=it.createElement("details");d.setAttribute("role","list");var l=it.createElement("summary");l.setAttribute("aria-haspopup","listbox"),l.textContent="Filter requested bids by bidders";var u=it.createElement("ul");u.setAttribute("role","listbox"),u.setAttribute("id","bidderFilter"),d.appendChild(l),d.appendChild(u);var p=it.createElement("table"),h=it.createElement("thead"),f=it.createElement("tr"),v=it.createElement("th");v.setAttribute("scope","col"),v.textContent="Status";var m=it.createElement("th");m.setAttribute("scope","col"),m.textContent="Code";var g=it.createElement("th");g.setAttribute("scope","col"),g.textContent="Mediatypes";var y=it.createElement("th");y.setAttribute("scope","col"),y.textContent="üîé Bidder params",f.appendChild(v),f.appendChild(m),f.appendChild(g),f.appendChild(y),h.appendChild(f);var b=it.createElement("tbody");b.setAttribute("id","".concat(e,"-tbody")),p.appendChild(h),p.appendChild(b),t.appendChild(n),t.appendChild(a),t.appendChild(d),t.appendChild(p),it.body.appendChild(t)}function ft(){var e=it.getElementById("adagio-nav"),t=void 0,n=0,r=0;function o(){at=!1,e.style.cursor="grab",ot.style.opacity=""}e.addEventListener("mousedown",function(o){"NAV"!==(t=o.target.tagName)&&"UL"!==t&&"LI"!==t||(at=!0,e.style.cursor="grabbing",ot.style.opacity="0.4",n=o.clientX,r=o.clientY)}),e.addEventListener("mouseup",o),e.addEventListener("mouseover",function(n){"NAV"===(t=n.target.tagName)||"UL"===t||"LI"===t?e.style.cursor="grab":e.style.cursor="default"}),ot.addEventListener("mouseup",o),it.addEventListener("mousemove",function(e){if(at){var t=e.clientX-n,o=e.clientY-r,i=ot.getBoundingClientRect(),s=i.left,a=i.top;ot.style.left=s+t+"px",ot.style.top=a+o+"px"}})}function vt(e,t,n){var o=r.checker.toLowerCase().replace(" ","-"),i=it.getElementById("".concat(o,"-tbody")),s=it.createElement("tr"),a=it.createElement("td"),c=it.createElement("td");c.style.whiteSpace="nowrap";var d=it.createElement("td");a.innerHTML=e,c.innerHTML=t,d.innerHTML=n,i.appendChild(s),s.appendChild(a),s.appendChild(c),s.appendChild(d)}function mt(e){var t=r.checker.toLowerCase().replace(" ","-");it.getElementById("".concat(t,"-alert")).innerHTML+="<small>‚Ä¢ ".concat(e,"</small><br>")}function gt(e,t,n){var r=e.toLowerCase().replace(" ","-"),o=it.createElement("li"),i=it.createElement("button");return i.setAttribute("id","".concat(r,"-button")),i.innerHTML=t,i.innerHTML+=" ".concat(e," "),i.addEventListener("click",function(){return function(e){if(e!==st){it.body.scrollTop=0;var t=it.getElementById("".concat(st,"-button")),n=it.getElementById("".concat(st,"-container")),r=it.getElementById("".concat(e,"-button")),o=it.getElementById("".concat(e,"-container"));r.classList.remove("outline"),t.classList.add("outline"),o.style.display="",n.style.display="none",st=e}}(r)}),n?st=r:i.classList.add("outline"),i.style.padding="0.3em",i.style.textTransform="uppercase",i.style.fontSize="0.85em",o.appendChild(i),o}function yt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(var r in e)if(e.hasOwnProperty(r)){var o=[].concat(Ze(n),[r]);if(r===t)return{path:o.join("."),value:e[r]};if("object"===Xe(e[r])&&null!==e[r]){var i=yt(e[r],t,o);if(i)return i}}return null}function bt(e,t,n,r){var o=it.createElement("tr"),i=it.createElement("td"),s=it.createElement("td"),a=it.createElement("td");i.innerHTML=t,s.innerHTML=n,a.innerHTML=r,e.appendChild(o),o.appendChild(i),o.appendChild(s),o.appendChild(a)}function Et(){return Ct.apply(this,arguments)}function Ct(){return(Ct=rt(Ke().m(function e(){var t;return Ke().w(function(e){for(;;)switch(e.n){case 0:return(t=document.getElementById("adagio-overlay-frame"))&&t.remove(),e.n=1,It();case 1:return e.a(2)}},e)}))).apply(this,arguments)}function St(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof a?r:a,d=Object.create(c.prototype);return wt(d,"_invoke",function(n,r,o){var i,a,c,d=0,l=o||[],u=!1,p={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return i=t,a=0,c=e,p.n=n,s}};function h(n,r){for(a=n,c=r,t=0;!u&&d&&!o&&t<l.length;t++){var o,i=l[t],h=p.p,f=i[2];n>3?(o=f===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=h&&((o=n<2&&h<i[1])?(a=0,p.v=r,p.n=i[1]):h<f&&(o=n<3||i[0]>r||r>f)&&(i[4]=n,i[5]=r,p.n=f,a=0))}if(o||n>1)return s;throw u=!0,r}return function(o,l,f){if(d>1)throw TypeError("Generator is already running");for(u&&1===l&&h(l,f),a=l,c=f;(t=a<2?e:c)||!u;){i||(a?a<3?(a>1&&(p.n=-1),h(a,c)):p.n=c:p.v=c);try{if(d=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(u=p.n<0)?c:n.call(r,p))!==s)break}catch(t){i=e,a=1,c=t}finally{d=1}}return{value:t,done:u}}}(n,o,i),!0),d}var s={};function a(){}function c(){}function d(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(wt(t={},r,function(){return this}),t),u=d.prototype=a.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,wt(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return c.prototype=d,wt(u,"constructor",d),wt(d,"constructor",c),c.displayName="GeneratorFunction",wt(d,o,"GeneratorFunction"),wt(u),wt(u,o,"Generator"),wt(u,r,function(){return this}),wt(u,"toString",function(){return"[object Generator]"}),(St=function(){return{w:i,m:p}})()}function wt(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}wt=function(e,t,n,r){function i(t,n){wt(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},wt(e,t,n,r)}function At(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function It(){return Lt.apply(this,arguments)}function Lt(){var e;return e=St().m(function e(){var t;return St().w(function(e){for(;;)switch(e.n){case 0:return X(),ct(),e.n=1,g("https://api.adagio.io/api/v1/profile");case 1:return t=e.v,void 0===Y?mt("Prebid.js: üî¥ No wrapper detected - Try to reload checker / page."):null===t&&mt("Adagio API: üî¥ Not reachable - Contact SE."),e.n=2,K();case 2:return e.a(2)}},e)}),Lt=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function s(e){At(i,r,o,s,a,"next",e)}function a(e){At(i,r,o,s,a,"throw",e)}s(void 0)})},Lt.apply(this,arguments)}It()})();